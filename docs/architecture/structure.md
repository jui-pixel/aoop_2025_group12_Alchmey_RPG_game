# Project Structure

- **./**
  - [.gitignore](file://root/.gitignore)
  - [LICENSE](file://root/LICENSE)
  - [README.md](file://root/README.md)
  - [TODO.md](file://root/TODO.md)
  - [flake8.ini](file://root/flake8.ini)
  - [main.py](file://root/main.py)
      - **Async Function**: `main`
  - [png_processer.py](file://root/png_processer.py)
      - **Function**: `get_project_path`
      - **Function**: `split_image`
      - **Function**: `process_all_images`
  - [pyproject.toml](file://root/pyproject.toml)
  - [requirements.txt](file://root/requirements.txt)
  - **.github/**
    - **workflows/**
      - [deploy.yml](file://root/.github/workflows/deploy.yml)
  - **data/**
    - **configs/**
    - **dungeon_flows/**
    - **prefabs/**
    - **saves/**
      - [player_data.json](file://root/data/saves/player_data.json)
  - **docs/**
    - **api/**
    - **architecture/**
    - **design/**
  - **esper/**
    - [__init__.py](file://root/esper/__init__.py)
        - **Function**: `dispatch_event`
        - **Function**: `_make_callback`
        - **Function**: `set_handler`
        - **Function**: `remove_handler`
        - **Class**: `Processor`
        - **Function**: `clear_cache`
        - **Function**: `clear_database`
        - **Function**: `add_processor`
        - **Function**: `remove_processor`
        - **Function**: `get_processor`
        - **Function**: `create_entity`
        - **Function**: `delete_entity`
        - **Function**: `entity_exists`
        - **Function**: `component_for_entity`
        - **Function**: `components_for_entity`
        - **Function**: `has_component`
        - **Function**: `has_components`
        - **Function**: `add_component`
        - **Function**: `remove_component`
        - **Function**: `_get_component`
        - **Function**: `_get_components`
        - **Function**: `get_component`
        - **Function**: `get_components`
        - **Function**: `get_components`
        - **Function**: `get_components`
        - **Function**: `get_components`
        - **Function**: `try_component`
        - **Function**: `try_components`
        - **Function**: `try_components`
        - **Function**: `try_components`
        - **Function**: `try_components`
        - **Function**: `clear_dead_entities`
        - **Function**: `process`
        - **Function**: `timed_process`
        - **Function**: `list_worlds`
        - **Function**: `delete_world`
        - **Function**: `switch_world`
  - **src/**
    - [__init__.py](file://root/src/__init__.py)
    - **alchemy_rpg/**
      - [__init__.py](file://root/src/alchemy_rpg/__init__.py)
      - [main.py](file://root/src/alchemy_rpg/main.py)
      - **buffs/**
        - [__init__.py](file://root/src/alchemy_rpg/buffs/__init__.py)
        - [buff.py](file://root/src/alchemy_rpg/buffs/buff.py)
            - **Class**: `Buff`
        - [element_buff.py](file://root/src/alchemy_rpg/buffs/element_buff.py)
            - **Class**: `ElementBuff`
            - **Function**: `apply_elemental_buff`
            - **Function**: `get_elemental_interaction_description`
      - **core/**
        - [__init__.py](file://root/src/alchemy_rpg/core/__init__.py)
        - [config.py](file://root/src/alchemy_rpg/core/config.py)
        - [engine.py](file://root/src/alchemy_rpg/core/engine.py)
            - **Class**: `Engine`
        - [event_bus.py](file://root/src/alchemy_rpg/core/event_bus.py)
            - **Class**: `EventBus`
        - [game.py](file://root/src/alchemy_rpg/core/game.py)
            - **Class**: `Game`
        - [input.py](file://root/src/alchemy_rpg/core/input.py)
            - **Class**: `InputContext`
            - **Class**: `InputManager`
        - [resources.py](file://root/src/alchemy_rpg/core/resources.py)
            - **Class**: `ResourceManager`
        - [state_machine.py](file://root/src/alchemy_rpg/core/state_machine.py)
            - **Class**: `StateMachine`
      - **dungeon/**
        - [__init__.py](file://root/src/alchemy_rpg/dungeon/__init__.py)
        - [bridge.py](file://root/src/alchemy_rpg/dungeon/bridge.py)
            - **Class**: `Bridge`
        - [bsp_node.py](file://root/src/alchemy_rpg/dungeon/bsp_node.py)
            - **Class**: `BSPNode`
        - [context.py](file://root/src/alchemy_rpg/dungeon/context.py)
            - **Class**: `DungeonContext`
        - [dungeon.py](file://root/src/alchemy_rpg/dungeon/dungeon.py)
            - **Class**: `Dungeon`
        - [loader.py](file://root/src/alchemy_rpg/dungeon/loader.py)
            - **Class**: `DungeonLoader`
        - [pipeline.py](file://root/src/alchemy_rpg/dungeon/pipeline.py)
            - **Class**: `DungeonPipeline`
            - **Function**: `step_initialize_grid`
            - **Function**: `step_generate_bsp`
            - **Function**: `step_place_rooms`
            - **Function**: `step_connect_rooms`
            - **Function**: `step_add_walls`
        - [room.py](file://root/src/alchemy_rpg/dungeon/room.py)
            - **Class**: `Room`
        - [tiles.py](file://root/src/alchemy_rpg/dungeon/tiles.py)
            - **Class**: `WallType`
            - **Function**: `get_wall_bitmask`
            - **Function**: `get_wall_tile_name`
        - **algorithms/**
          - [__init__.py](file://root/src/alchemy_rpg/dungeon/algorithms/__init__.py)
          - [bsp_generator.py](file://root/src/alchemy_rpg/dungeon/algorithms/bsp_generator.py)
              - **Class**: `BSPGenerator`
          - [graph_algorithms.py](file://root/src/alchemy_rpg/dungeon/algorithms/graph_algorithms.py)
              - **Class**: `UnionFind`
              - **Class**: `GraphAlgorithms`
          - [pathfinding.py](file://root/src/alchemy_rpg/dungeon/algorithms/pathfinding.py)
              - **Class**: `AStarPathfinder`
          - [registry.py](file://root/src/alchemy_rpg/dungeon/algorithms/registry.py)
              - **Function**: `register_algorithm`
              - **Function**: `get_algorithm`
              - **Function**: `list_algorithms`
        - **builder/**
          - [__init__.py](file://root/src/alchemy_rpg/dungeon/builder/__init__.py)
          - [dungeon_builder.py](file://root/src/alchemy_rpg/dungeon/builder/dungeon_builder.py)
              - **Class**: `DungeonBuilder`
        - **config/**
          - [__init__.py](file://root/src/alchemy_rpg/dungeon/config/__init__.py)
          - [config_loader.py](file://root/src/alchemy_rpg/dungeon/config/config_loader.py)
              - **Class**: `LevelConfigLoader`
              - **Function**: `create_default_level_config`
          - [dungeon_config.py](file://root/src/alchemy_rpg/dungeon/config/dungeon_config.py)
              - **Class**: `RoomType`
              - **Class**: `DungeonConfig`
          - [dungeon_flow.json](file://root/src/alchemy_rpg/dungeon/config/dungeon_flow.json)
          - [level_config.py](file://root/src/alchemy_rpg/dungeon/config/level_config.py)
              - **Class**: `MonsterType`
              - **Class**: `MonsterConfig`
              - **Class**: `MonsterPoolConfig`
              - **Class**: `LevelConfig`
        - **examples/**
          - [__init__.py](file://root/src/alchemy_rpg/dungeon/examples/__init__.py)
          - [simple_dungeon_generation.py](file://root/src/alchemy_rpg/dungeon/examples/simple_dungeon_generation.py)
              - **Function**: `generate_default_dungeon`
              - **Function**: `generate_small_dungeon`
              - **Function**: `generate_custom_dungeon`
              - **Function**: `test_individual_components`
        - **generators/**
          - [__init__.py](file://root/src/alchemy_rpg/dungeon/generators/__init__.py)
          - [corridor_generator.py](file://root/src/alchemy_rpg/dungeon/generators/corridor_generator.py)
              - **Class**: `CorridorGenerator`
          - [door_generator.py](file://root/src/alchemy_rpg/dungeon/generators/door_generator.py)
              - **Class**: `DoorGenerator`
          - [room_placer.py](file://root/src/alchemy_rpg/dungeon/generators/room_placer.py)
              - **Class**: `RoomPlacer`
          - [room_type_assigner.py](file://root/src/alchemy_rpg/dungeon/generators/room_type_assigner.py)
              - **Class**: `RoomTypeAssigner`
        - **managers/**
          - [__init__.py](file://root/src/alchemy_rpg/dungeon/managers/__init__.py)
          - [tile_manager.py](file://root/src/alchemy_rpg/dungeon/managers/tile_manager.py)
              - **Class**: `TileManager`
      - **ecs/**
        - [__init__.py](file://root/src/alchemy_rpg/ecs/__init__.py)
        - [_components.py](file://root/src/alchemy_rpg/ecs/_components.py)
            - **Class**: `ProjectileState`
            - **Class**: `ExpansionLifecycle`
            - **Class**: `ExpansionRenderData`
            - **Class**: `PlayerComponent`
            - **Class**: `Position`
            - **Class**: `Velocity`
            - **Class**: `Health`
            - **Class**: `Defense`
            - **Class**: `Combat`
            - **Class**: `Renderable`
            - **Class**: `Input`
            - **Class**: `Buffs`
            - **Class**: `Collider`
            - **Class**: `AI`
            - **Class**: `Tag`
            - **Class**: `BossComponent`
            - **Class**: `NPCInteractComponent`
            - **Class**: `DungeonPortalComponent`
            - **Class**: `TimerComponent`
            - **Class**: `TreasureStateComponent`
        - [_systems.py](file://root/src/alchemy_rpg/ecs/_systems.py)
            - **Class**: `MovementSystem`
            - **Class**: `RenderSystem`
            - **Class**: `InputSystem`
            - **Class**: `HealthSystem`
            - **Class**: `BuffSystem`
            - **Class**: `EntityWrapper`
            - **Class**: `CombatSystem`
            - **Class**: `EnergySystem`
            - **Class**: `AISystem`
            - **Class**: `TimerSystem`
        - [ai.py](file://root/src/alchemy_rpg/ecs/ai.py)
            - **Class**: `EnemyContext`
            - **Class**: `BehaviorNode`
            - **Class**: `ConditionNode`
            - **Class**: `Sequence`
            - **Class**: `Selector`
            - **Class**: `PerformNextAction`
            - **Class**: `RefillActionList`
            - **Class**: `IdleNode`
            - **Class**: `Action`
            - **Class**: `RandomMoveAction`
            - **Class**: `ChaseAction`
            - **Class**: `AttackAction`
            - **Class**: `WaitAction`
            - **Class**: `PatrolAction`
            - **Class**: `DodgeAction`
            - **Class**: `SpecialAttackAction`
            - **Class**: `MeleeAttackAction`
            - **Class**: `FanAttackAction`
            - **Class**: `RadialBurstAction`
            - **Class**: `DashAction`
            - **Class**: `DashBackAction`
            - **Class**: `StrafeAction`
            - **Class**: `TauntAction`
        - [prefabs.py](file://root/src/alchemy_rpg/ecs/prefabs.py)
            - **Function**: `create_player_entity`
            - **Function**: `create_dummy_entity`
            - **Function**: `create_damage_text_entity`
        - [test.py](file://root/src/alchemy_rpg/ecs/test.py)
        - [world.py](file://root/src/alchemy_rpg/ecs/world.py)
            - **Class**: `World`
        - **components/**
          - [__init__.py](file://root/src/alchemy_rpg/ecs/components/__init__.py)
          - [combat.py](file://root/src/alchemy_rpg/ecs/components/combat.py)
              - **Class**: `Health`
              - **Class**: `Defense`
              - **Class**: `Combat`
              - **Class**: `BossComponent`
          - [common.py](file://root/src/alchemy_rpg/ecs/components/common.py)
              - **Class**: `Position`
              - **Class**: `Velocity`
              - **Class**: `Tag`
              - **Class**: `Renderable`
              - **Class**: `Input`
              - **Class**: `TimerComponent`
              - **Class**: `ProjectileState`
              - **Class**: `ExpansionLifecycle`
              - **Class**: `ExpansionRenderData`
          - [interaction.py](file://root/src/alchemy_rpg/ecs/components/interaction.py)
              - **Class**: `Collider`
              - **Class**: `NPCInteractComponent`
              - **Class**: `DungeonPortalComponent`
              - **Class**: `TreasureStateComponent`
          - [skills.py](file://root/src/alchemy_rpg/ecs/components/skills.py)
              - **Class**: `Buffs`
              - **Class**: `PlayerComponent`
              - **Class**: `AI`
        - **systems/**
          - [__init__.py](file://root/src/alchemy_rpg/ecs/systems/__init__.py)
          - [ai.py](file://root/src/alchemy_rpg/ecs/systems/ai.py)
              - **Class**: `EnemyContext`
              - **Class**: `BehaviorNode`
              - **Class**: `Sequence`
              - **Class**: `Selector`
              - **Class**: `Action`
              - **Class**: `WaitAction`
              - **Class**: `ChaseAction`
              - **Class**: `PerformNextAction`
              - **Class**: `AISystem`
          - [combat.py](file://root/src/alchemy_rpg/ecs/systems/combat.py)
              - **Class**: `CombatSystem`
          - [movement.py](file://root/src/alchemy_rpg/ecs/systems/movement.py)
              - **Class**: `MovementSystem`
          - [render.py](file://root/src/alchemy_rpg/ecs/systems/render.py)
              - **Class**: `RenderSystem`
      - **entities/**
        - [attack_entity.py](file://root/src/alchemy_rpg/entities/attack_entity.py)
            - **Class**: `AttackEntity`
        - [basic_entity.py](file://root/src/alchemy_rpg/entities/basic_entity.py)
        - [buffable_entity.py](file://root/src/alchemy_rpg/entities/buffable_entity.py)
            - **Class**: `BuffSynthesizer`
        - [damage_text.py](file://root/src/alchemy_rpg/entities/damage_text.py)
            - **Class**: `DamageText`
        - [ecs_factory.py](file://root/src/alchemy_rpg/entities/ecs_factory.py)
            - **Function**: `create_player_entity`
            - **Function**: `create_enemy1_entity`
            - **Function**: `create_alchemy_pot_npc`
            - **Function**: `create_dungeon_portal_npc`
            - **Function**: `create_magic_crystal_npc`
            - **Function**: `create_dummy_entity`
            - **Function**: `create_damage_text_entity`
            - **Function**: `create_boss_entity`
            - **Function**: `create_win_npc_entity`
            - **Function**: `create_trader_entity`
            - **Function**: `create_treasure_entity`
        - [health_entity.py](file://root/src/alchemy_rpg/entities/health_entity.py)
            - **Class**: `HealthEntity`
        - [movement_entity.py](file://root/src/alchemy_rpg/entities/movement_entity.py)
        - **bullet/**
          - [__init__.py](file://root/src/alchemy_rpg/entities/bullet/__init__.py)
          - [bullet.py](file://root/src/alchemy_rpg/entities/bullet/bullet.py)
              - **Function**: `create_standard_bullet_entity`
          - [expand_circle_bullet.py](file://root/src/alchemy_rpg/entities/bullet/expand_circle_bullet.py)
              - **Function**: `get_project_path`
              - **Function**: `load_expansion_frames`
              - **Function**: `create_expanding_circle_bullet`
        - **enemy/**
          - [__init__.py](file://root/src/alchemy_rpg/entities/enemy/__init__.py)
          - [dummy.py](file://root/src/alchemy_rpg/entities/enemy/dummy.py)
          - [enemy1.py](file://root/src/alchemy_rpg/entities/enemy/enemy1.py)
        - **npc/**
          - [__init__.py](file://root/src/alchemy_rpg/entities/npc/__init__.py)
          - [alchemy_pot_npc.py](file://root/src/alchemy_rpg/entities/npc/alchemy_pot_npc.py)
              - **Class**: `AlchemyPotNPC`
          - [base_npc_facade.py](file://root/src/alchemy_rpg/entities/npc/base_npc_facade.py)
              - **Class**: `AbstractNPCFacade`
          - [dungeon_portal_npc.py](file://root/src/alchemy_rpg/entities/npc/dungeon_portal_npc.py)
              - **Class**: `DungeonPortalNPC`
          - [magic_crystal_npc.py](file://root/src/alchemy_rpg/entities/npc/magic_crystal_npc.py)
              - **Class**: `MagicCrystalNPC`
          - [trader_npc.py](file://root/src/alchemy_rpg/entities/npc/trader_npc.py)
              - **Class**: `TraderNPC`
          - [treasure_npc.py](file://root/src/alchemy_rpg/entities/npc/treasure_npc.py)
              - **Class**: `TreasureNPC`
        - **player/**
          - [__init__.py](file://root/src/alchemy_rpg/entities/player/__init__.py)
          - [player.py](file://root/src/alchemy_rpg/entities/player/player.py)
              - **Class**: `Player`
        - **trap/**
          - [__init__.py](file://root/src/alchemy_rpg/entities/trap/__init__.py)
          - [trap1.py](file://root/src/alchemy_rpg/entities/trap/trap1.py)
      - **manager/**
        - [__init__.py](file://root/src/alchemy_rpg/manager/__init__.py)
        - [audio_manager.py](file://root/src/alchemy_rpg/manager/audio_manager.py)
            - **Class**: `AudioManager`
        - [dungeon_manager.py](file://root/src/alchemy_rpg/manager/dungeon_manager.py)
            - **Class**: `DungeonManager`
        - [entity_manager.py](file://root/src/alchemy_rpg/manager/entity_manager.py)
            - **Class**: `EntityManager`
        - [event_manager.py](file://root/src/alchemy_rpg/manager/event_manager.py)
            - **Class**: `EventManager`
        - [menu_manager.py](file://root/src/alchemy_rpg/manager/menu_manager.py)
            - **Class**: `MenuManager`
        - [render_manager.py](file://root/src/alchemy_rpg/manager/render_manager.py)
            - **Class**: `FontManager`
            - **Class**: `RenderManager`
        - [storage_manager.py](file://root/src/alchemy_rpg/manager/storage_manager.py)
            - **Class**: `StorageManager`
      - **menu/**
        - [__init__.py](file://root/src/alchemy_rpg/menu/__init__.py)
        - [abstract_menu.py](file://root/src/alchemy_rpg/menu/abstract_menu.py)
            - **Class**: `AbstractMenu`
        - [button.py](file://root/src/alchemy_rpg/menu/button.py)
            - **Class**: `Button`
        - [menu_config.py](file://root/src/alchemy_rpg/menu/menu_config.py)
            - **Class**: `BasicAction`
            - **Class**: `MenuNavigation`
            - **Class**: `MainMenuAction`
            - **Class**: `StatMenuAction`
            - **Class**: `AlchemyMenuAction`
            - **Class**: `CrystalMenuAction`
            - **Class**: `DungeonMenuAction`
            - **Class**: `ElementMenuAction`
            - **Class**: `AmplifierMenuAction`
            - **Class**: `SkillChainMenuAction`
            - **Class**: `SkillChainEditMenuAction`
            - **Class**: `SkillLibraryMenuAction`
            - **Class**: `SettingsMenuAction`
            - **Class**: `WinMenuAction`
            - **Class**: `DeathMenuAction`
            - **Class**: `MenuResult`
            - **Class**: `MenuConfig`
            - **Function**: `get_menu_config`
            - **Function**: `create_menu_result`
            - **Function**: `back_result`
            - **Function**: `confirm_result`
            - **Function**: `cancel_result`
            - **Function**: `navigate_result`
            - **Function**: `error_result`
            - **Class**: `MenuActionHelper`
            - **Function**: `get_action_class`
        - **menus/**
          - [__init__.py](file://root/src/alchemy_rpg/menu/menus/__init__.py)
          - [alchemy_menu.py](file://root/src/alchemy_rpg/menu/menus/alchemy_menu.py)
              - **Class**: `AlchemyMenu`
          - [amplifier_choose_menu.py](file://root/src/alchemy_rpg/menu/menus/amplifier_choose_menu.py)
              - **Class**: `AmplifierChooseMenu`
          - [amplifier_menu.py](file://root/src/alchemy_rpg/menu/menus/amplifier_menu.py)
              - **Class**: `AmplifierMenu`
          - [amplifier_stat_menu.py](file://root/src/alchemy_rpg/menu/menus/amplifier_stat_menu.py)
              - **Class**: `AmplifierStatMenu`
          - [crystal_menu.py](file://root/src/alchemy_rpg/menu/menus/crystal_menu.py)
              - **Class**: `CrystalMenu`
          - [death_menu.py](file://root/src/alchemy_rpg/menu/menus/death_menu.py)
              - **Class**: `DeathMenu`
          - [dungeon_menu.py](file://root/src/alchemy_rpg/menu/menus/dungeon_menu.py)
              - **Class**: `DungeonMenu`
          - [element_choose_menu.py](file://root/src/alchemy_rpg/menu/menus/element_choose_menu.py)
              - **Class**: `ElementChooseMenu`
          - [element_menu.py](file://root/src/alchemy_rpg/menu/menus/element_menu.py)
              - **Class**: `ElementMenu`
          - [main_material_menu.py](file://root/src/alchemy_rpg/menu/menus/main_material_menu.py)
              - **Class**: `MainMaterialMenu`
          - [main_menu.py](file://root/src/alchemy_rpg/menu/menus/main_menu.py)
              - **Class**: `MainMenu`
          - [naming_menu.py](file://root/src/alchemy_rpg/menu/menus/naming_menu.py)
              - **Class**: `NamingMenu`
          - [pause_menu.py](file://root/src/alchemy_rpg/menu/menus/pause_menu.py)
              - **Class**: `PauseMenu`
          - [settings_menu.py](file://root/src/alchemy_rpg/menu/menus/settings_menu.py)
              - **Class**: `SettingsMenu`
          - [skill_chain_edit_menu.py](file://root/src/alchemy_rpg/menu/menus/skill_chain_edit_menu.py)
              - **Class**: `SkillChainEditMenu`
          - [skill_chain_menu.py](file://root/src/alchemy_rpg/menu/menus/skill_chain_menu.py)
              - **Class**: `SkillChainMenu`
          - [skill_library_menu.py](file://root/src/alchemy_rpg/menu/menus/skill_library_menu.py)
              - **Class**: `SkillLibraryMenu`
          - [stat_menu.py](file://root/src/alchemy_rpg/menu/menus/stat_menu.py)
              - **Class**: `StatMenu`
          - [trader_menu.py](file://root/src/alchemy_rpg/menu/menus/trader_menu.py)
              - **Class**: `TraderMenu`
          - [treasure_menu.py](file://root/src/alchemy_rpg/menu/menus/treasure_menu.py)
              - **Class**: `TreasureMenu`
          - [win_menu.py](file://root/src/alchemy_rpg/menu/menus/win_menu.py)
              - **Class**: `WinMenu`
      - **skills/**
        - [__init__.py](file://root/src/alchemy_rpg/skills/__init__.py)
        - [abstract_skill.py](file://root/src/alchemy_rpg/skills/abstract_skill.py)
            - **Class**: `Skill`
        - [buff_skill.py](file://root/src/alchemy_rpg/skills/buff_skill.py)
            - **Class**: `BuffSkill`
        - [shoot_skill.py](file://root/src/alchemy_rpg/skills/shoot_skill.py)
            - **Class**: `ShootingSkill`
        - [skill.py](file://root/src/alchemy_rpg/skills/skill.py)
            - **Function**: `create_skill_from_dict`
      - **ui/**
        - [__init__.py](file://root/src/alchemy_rpg/ui/__init__.py)
        - [base.py](file://root/src/alchemy_rpg/ui/base.py)
            - **Class**: `AbstractMenu`
        - [manager.py](file://root/src/alchemy_rpg/ui/manager.py)
            - **Class**: `MenuManager`
        - **menus/**
      - **utils/**
        - [__init__.py](file://root/src/alchemy_rpg/utils/__init__.py)
        - [elements.py](file://root/src/alchemy_rpg/utils/elements.py)
        - [events.py](file://root/src/alchemy_rpg/utils/events.py)
        - [helpers.py](file://root/src/alchemy_rpg/utils/helpers.py)
            - **Function**: `get_project_path`
            - **Function**: `load_tileset`
            - **Function**: `load_background_tileset`
            - **Function**: `load_foreground_tileset`
        - [logger.py](file://root/src/alchemy_rpg/utils/logger.py)
            - **Function**: `setup_logger`
        - [math.py](file://root/src/alchemy_rpg/utils/math.py)
            - **Class**: `Vector2`
            - **Function**: `world_to_grid`
            - **Function**: `grid_to_world`
            - **Function**: `clamp`
            - **Function**: `lerp`
            - **Function**: `distance`
  - **tests/**
    - [__init__.py](file://root/tests/__init__.py)
        - **Function**: `init_pygame`
